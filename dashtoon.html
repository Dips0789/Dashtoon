<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comic Strip Generator</title>
    <style>
        /* Add your CSS styles for the UI here */
    </style>
</head>
<body>
    <div id="app">
        <form id="comicForm">
            <!-- Add input fields for each comic panel -->
            <label for="panel1">Panel 1:</label>
            <textarea id="panel1" name="panel1" rows="4" cols="50"></textarea>

            <!-- Repeat the above block for panels 2 to 10 -->

            <button type="button" onclick="generateComic()">Generate Comic</button>
        </form>

        <!-- Display area for generated comic strips -->
        <div id="comicDisplay"></div>
    </div>

    <script>
        // Function to handle the generation of the comic strip
        async function generateComic() {
            // Gather text inputs from the form
            const panel1Text = document.getElementById('panel1').value;
            // Repeat the above line for panels 2 to 10

            // Call the Python server to interact with the API
            try {
                const response = await fetch('http://localhost:5000/generate-comic', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ inputs: panel1Text /* Repeat for other panels */ }),
                });

                if (!response.ok) {
                    throw new Error('Failed to generate the comic strip.');
                }

                // Assuming the response contains the image URL
                const data = await response.json();

                // Display the generated comic strip in the UI
                const comicDisplay = document.getElementById('comicDisplay');
                // This is a placeholder and should be adapted based on your API response structure
                comicDisplay.innerHTML = `<img src="${data.image_url}" alt="Comic Strip"/>`;
            } catch (error) {
                // Handle errors and display a user-friendly message
                console.error('Error:', error);
                alert('Failed to generate the comic strip. Please try again.');
            }
        }
    </script>
</body>
</html>
